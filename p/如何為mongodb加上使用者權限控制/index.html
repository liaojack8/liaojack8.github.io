<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='å‰è¨€ æ™‚éš”åŠå¹´ï¼Œæœ€è¿‘åˆå›ä¾†ç”¨äº†MongoDBï¼Œä¹‹å‰åªæ˜¯è£ä¾†ç©ç©ï¼Œå…¶å¯¦ä¹Ÿæ²’å¹¹å˜›
é€™è£¡å…ˆæ¨è–¦ä¸€ä¸‹MongoDB Compass Communityï¼Œæ­£å¼é‡‹å‡ºäº†ï¼Œç¾åœ¨å·²ç¶“è¶¨æ–¼ç©©å®šï¼Œä½¿ç”¨ä¸ŠåŠŸèƒ½ä¹Ÿå¾ˆé½Šå…¨
æœ€è¿‘å¥½åƒå®‰è£çš„æ™‚å€™å°±æœƒå•ä½ è¦ä¸è¦ä¸€èµ·è£Communityï¼Œæœ‰GUIçš„å·¥å…·å¯ä»¥è¼”åŠ©é–‹ç™¼å¯¦åœ¨æ˜¯å¤ªæ–¹ä¾¿çš„ä¸€ä»¶äº‹
é€™æ¬¡éœ€è¦è®“ä¸»æ©Ÿå°å¤–ï¼Œè®“è³‡æ–™åº«å¯ä»¥è¢«é ç«¯é€£æ¥ï¼Œè¨˜éŒ„ä¸€ä¸‹æ“ä½œæµç¨‹
æ“ä½œæ­¥é©Ÿ å…ˆé¸æ“‡ä½¿ç”¨adminè³‡æ–™åº«
$ mongo &amp;gt; use admin é€™è£¡æ”¾ä¸Šæˆ‘è‡ªå·±æ•´ç†çš„è¡¨æ ¼ï¼Œå¯ä»¥åƒè€ƒå…¶è¨­å®šä½¿ç”¨è€…æ¬Šé™
 ä½¿ç”¨è€…(ç”¨æˆ¶)èªªæ˜(åŸºæ–¼MongoDB v4.2 Manual)     è§’è‰² æ¬Šé™èªªæ˜     &amp;mdash;è³‡æ–™åº«ä½¿ç”¨è€…&amp;mdash; &amp;mdash;   Read å…è¨±è©²ä½¿ç”¨è€…è®€å–æŒ‡å®šè³‡æ–™åº«   readWrite å…è¨±è©²ä½¿ç”¨è€…è®€å¯«æŒ‡å®šè³‡æ–™åº«   &amp;mdash;è³‡æ–™åº«ç®¡ç†è€…&amp;mdash; &amp;mdash;   dbAdmin å…è¨±è©²ä½¿ç”¨è€…åœ¨æŒ‡å®šè³‡æ–™åº«ä¸­åŸ·è¡Œç®¡ç†å‡½æ•¸ ä¾‹å¦‚ç´¢å¼•ç·¨åˆ¶ã€æ”¶é›†çµ±è¨ˆè³‡è¨Š   dbOwner è³‡æ–™åº«çš„æ“æœ‰è€…ï¼Œå¯ä»¥å°è³‡æ–™åº«åŸ·è¡Œä»»ä½•ç®¡ç†æ“ä½œ = readWrite &#43; dbAdmin &#43; userAdmin   userAdmin å…è¨±è©²ä½¿ç”¨è€…å°å…¶ä»–ä½¿ç”¨è€…é€²è¡Œæ¬Šé™ç®¡æ§ï¼Œå¯å°usersé›†ç¾¤å¯«å…¥ å°æŒ‡å®šçš„è³‡æ–™åº«æ–°å¢/åˆªé™¤ä½¿ç”¨è€…   &amp;mdash;å¢é›†(é›†ç¾¤)ç®¡ç†è€…&amp;mdash; &amp;mdash; (é€™è£¡æˆ‘å°±ä¸å¤ªç†Ÿæ‚‰äº†)   clusterAdmin è³¦äºˆæœ€å¤§çš„é›†ç¾¤ç®¡ç†æ¬Šé™ï¼Œä¹Ÿå¯dropDatabase = clusterManager &#43; clusterMonitor &#43; hostManager   clusterManager è³¦äºˆæ¬Šé™å¯å°é›†ç¾¤é€²è¡Œç®¡ç†å’Œç›£è¦–   &amp;mdash;æ‰€æœ‰è³‡æ–™åº«ä½¿ç”¨è€…&amp;mdash; &amp;mdash;   readAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„è®€å–æ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   readWriteAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„è®€å¯«æ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   userAdminAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„userAdminæ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡Œä»¥ä¸‹å¹¾ç¨®æ“ä½œ: authSchemaUpgrade invalidateUserCache listDatabases   dbAdminAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„dbAdminæ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   &amp;mdash;è¶…ç´šä½¿ç”¨è€…&amp;mdash; &amp;mdash;   root è¶…ç´šå¸³è™Ÿï¼Œç„¡æ¬Šé™é™åˆ¶ã€‚å…·é«”å¯ä½¿ç”¨çš„æ“ä½œå¦‚ä¸‹: readWriteAnyDatabasedbAdminAnyDatabaseuserAdminAnyDatabaseclusterAdminrestorebackup    ç¹¼use adminå¾Œï¼Œæ¥è‘—å°±ç›´æ¥å»ºç«‹ä½¿ç”¨è€…ï¼Œèªæ³•æ ¼å¼å¦‚ä¸‹ï¼Œé€™è£¡å¯«ä¸Šå…©å€‹å¸¸ç”¨ç¯„ä¾‹'><title>å¦‚ä½•ç‚ºMongoDBåŠ ä¸Šä½¿ç”¨è€…æ¬Šé™æ§åˆ¶</title>
    
    <link rel='canonical' href='https://example.com/p/%E5%A6%82%E4%BD%95%E7%82%BAmongodb%E5%8A%A0%E4%B8%8A%E4%BD%BF%E7%94%A8%E8%80%85%E6%AC%8A%E9%99%90%E6%8E%A7%E5%88%B6/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content='å¦‚ä½•ç‚ºMongoDBåŠ ä¸Šä½¿ç”¨è€…æ¬Šé™æ§åˆ¶'>
<meta property='og:description' content='å‰è¨€ æ™‚éš”åŠå¹´ï¼Œæœ€è¿‘åˆå›ä¾†ç”¨äº†MongoDBï¼Œä¹‹å‰åªæ˜¯è£ä¾†ç©ç©ï¼Œå…¶å¯¦ä¹Ÿæ²’å¹¹å˜›
é€™è£¡å…ˆæ¨è–¦ä¸€ä¸‹MongoDB Compass Communityï¼Œæ­£å¼é‡‹å‡ºäº†ï¼Œç¾åœ¨å·²ç¶“è¶¨æ–¼ç©©å®šï¼Œä½¿ç”¨ä¸ŠåŠŸèƒ½ä¹Ÿå¾ˆé½Šå…¨
æœ€è¿‘å¥½åƒå®‰è£çš„æ™‚å€™å°±æœƒå•ä½ è¦ä¸è¦ä¸€èµ·è£Communityï¼Œæœ‰GUIçš„å·¥å…·å¯ä»¥è¼”åŠ©é–‹ç™¼å¯¦åœ¨æ˜¯å¤ªæ–¹ä¾¿çš„ä¸€ä»¶äº‹
é€™æ¬¡éœ€è¦è®“ä¸»æ©Ÿå°å¤–ï¼Œè®“è³‡æ–™åº«å¯ä»¥è¢«é ç«¯é€£æ¥ï¼Œè¨˜éŒ„ä¸€ä¸‹æ“ä½œæµç¨‹
æ“ä½œæ­¥é©Ÿ å…ˆé¸æ“‡ä½¿ç”¨adminè³‡æ–™åº«
$ mongo &amp;gt; use admin é€™è£¡æ”¾ä¸Šæˆ‘è‡ªå·±æ•´ç†çš„è¡¨æ ¼ï¼Œå¯ä»¥åƒè€ƒå…¶è¨­å®šä½¿ç”¨è€…æ¬Šé™
 ä½¿ç”¨è€…(ç”¨æˆ¶)èªªæ˜(åŸºæ–¼MongoDB v4.2 Manual)     è§’è‰² æ¬Šé™èªªæ˜     &amp;mdash;è³‡æ–™åº«ä½¿ç”¨è€…&amp;mdash; &amp;mdash;   Read å…è¨±è©²ä½¿ç”¨è€…è®€å–æŒ‡å®šè³‡æ–™åº«   readWrite å…è¨±è©²ä½¿ç”¨è€…è®€å¯«æŒ‡å®šè³‡æ–™åº«   &amp;mdash;è³‡æ–™åº«ç®¡ç†è€…&amp;mdash; &amp;mdash;   dbAdmin å…è¨±è©²ä½¿ç”¨è€…åœ¨æŒ‡å®šè³‡æ–™åº«ä¸­åŸ·è¡Œç®¡ç†å‡½æ•¸ ä¾‹å¦‚ç´¢å¼•ç·¨åˆ¶ã€æ”¶é›†çµ±è¨ˆè³‡è¨Š   dbOwner è³‡æ–™åº«çš„æ“æœ‰è€…ï¼Œå¯ä»¥å°è³‡æ–™åº«åŸ·è¡Œä»»ä½•ç®¡ç†æ“ä½œ = readWrite &#43; dbAdmin &#43; userAdmin   userAdmin å…è¨±è©²ä½¿ç”¨è€…å°å…¶ä»–ä½¿ç”¨è€…é€²è¡Œæ¬Šé™ç®¡æ§ï¼Œå¯å°usersé›†ç¾¤å¯«å…¥ å°æŒ‡å®šçš„è³‡æ–™åº«æ–°å¢/åˆªé™¤ä½¿ç”¨è€…   &amp;mdash;å¢é›†(é›†ç¾¤)ç®¡ç†è€…&amp;mdash; &amp;mdash; (é€™è£¡æˆ‘å°±ä¸å¤ªç†Ÿæ‚‰äº†)   clusterAdmin è³¦äºˆæœ€å¤§çš„é›†ç¾¤ç®¡ç†æ¬Šé™ï¼Œä¹Ÿå¯dropDatabase = clusterManager &#43; clusterMonitor &#43; hostManager   clusterManager è³¦äºˆæ¬Šé™å¯å°é›†ç¾¤é€²è¡Œç®¡ç†å’Œç›£è¦–   &amp;mdash;æ‰€æœ‰è³‡æ–™åº«ä½¿ç”¨è€…&amp;mdash; &amp;mdash;   readAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„è®€å–æ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   readWriteAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„è®€å¯«æ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   userAdminAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„userAdminæ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡Œä»¥ä¸‹å¹¾ç¨®æ“ä½œ: authSchemaUpgrade invalidateUserCache listDatabases   dbAdminAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„dbAdminæ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   &amp;mdash;è¶…ç´šä½¿ç”¨è€…&amp;mdash; &amp;mdash;   root è¶…ç´šå¸³è™Ÿï¼Œç„¡æ¬Šé™é™åˆ¶ã€‚å…·é«”å¯ä½¿ç”¨çš„æ“ä½œå¦‚ä¸‹: readWriteAnyDatabasedbAdminAnyDatabaseuserAdminAnyDatabaseclusterAdminrestorebackup    ç¹¼use adminå¾Œï¼Œæ¥è‘—å°±ç›´æ¥å»ºç«‹ä½¿ç”¨è€…ï¼Œèªæ³•æ ¼å¼å¦‚ä¸‹ï¼Œé€™è£¡å¯«ä¸Šå…©å€‹å¸¸ç”¨ç¯„ä¾‹'>
<meta property='og:url' content='https://example.com/p/%E5%A6%82%E4%BD%95%E7%82%BAmongodb%E5%8A%A0%E4%B8%8A%E4%BD%BF%E7%94%A8%E8%80%85%E6%AC%8A%E9%99%90%E6%8E%A7%E5%88%B6/'>
<meta property='og:site_name' content='EiC'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='MongoDB' /><meta property='article:tag' content='database' /><meta property='article:published_time' content='2020-06-03T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2020-06-03T00:00:00&#43;00:00'/><meta property='og:image' content='https://i.loli.net/2020/08/13/N563Qzikycmh4Xe.jpg' />
<meta name="twitter:title" content="å¦‚ä½•ç‚ºMongoDBåŠ ä¸Šä½¿ç”¨è€…æ¬Šé™æ§åˆ¶">
<meta name="twitter:description" content="å‰è¨€ æ™‚éš”åŠå¹´ï¼Œæœ€è¿‘åˆå›ä¾†ç”¨äº†MongoDBï¼Œä¹‹å‰åªæ˜¯è£ä¾†ç©ç©ï¼Œå…¶å¯¦ä¹Ÿæ²’å¹¹å˜›
é€™è£¡å…ˆæ¨è–¦ä¸€ä¸‹MongoDB Compass Communityï¼Œæ­£å¼é‡‹å‡ºäº†ï¼Œç¾åœ¨å·²ç¶“è¶¨æ–¼ç©©å®šï¼Œä½¿ç”¨ä¸ŠåŠŸèƒ½ä¹Ÿå¾ˆé½Šå…¨
æœ€è¿‘å¥½åƒå®‰è£çš„æ™‚å€™å°±æœƒå•ä½ è¦ä¸è¦ä¸€èµ·è£Communityï¼Œæœ‰GUIçš„å·¥å…·å¯ä»¥è¼”åŠ©é–‹ç™¼å¯¦åœ¨æ˜¯å¤ªæ–¹ä¾¿çš„ä¸€ä»¶äº‹
é€™æ¬¡éœ€è¦è®“ä¸»æ©Ÿå°å¤–ï¼Œè®“è³‡æ–™åº«å¯ä»¥è¢«é ç«¯é€£æ¥ï¼Œè¨˜éŒ„ä¸€ä¸‹æ“ä½œæµç¨‹
æ“ä½œæ­¥é©Ÿ å…ˆé¸æ“‡ä½¿ç”¨adminè³‡æ–™åº«
$ mongo &amp;gt; use admin é€™è£¡æ”¾ä¸Šæˆ‘è‡ªå·±æ•´ç†çš„è¡¨æ ¼ï¼Œå¯ä»¥åƒè€ƒå…¶è¨­å®šä½¿ç”¨è€…æ¬Šé™
 ä½¿ç”¨è€…(ç”¨æˆ¶)èªªæ˜(åŸºæ–¼MongoDB v4.2 Manual)     è§’è‰² æ¬Šé™èªªæ˜     &amp;mdash;è³‡æ–™åº«ä½¿ç”¨è€…&amp;mdash; &amp;mdash;   Read å…è¨±è©²ä½¿ç”¨è€…è®€å–æŒ‡å®šè³‡æ–™åº«   readWrite å…è¨±è©²ä½¿ç”¨è€…è®€å¯«æŒ‡å®šè³‡æ–™åº«   &amp;mdash;è³‡æ–™åº«ç®¡ç†è€…&amp;mdash; &amp;mdash;   dbAdmin å…è¨±è©²ä½¿ç”¨è€…åœ¨æŒ‡å®šè³‡æ–™åº«ä¸­åŸ·è¡Œç®¡ç†å‡½æ•¸ ä¾‹å¦‚ç´¢å¼•ç·¨åˆ¶ã€æ”¶é›†çµ±è¨ˆè³‡è¨Š   dbOwner è³‡æ–™åº«çš„æ“æœ‰è€…ï¼Œå¯ä»¥å°è³‡æ–™åº«åŸ·è¡Œä»»ä½•ç®¡ç†æ“ä½œ = readWrite &#43; dbAdmin &#43; userAdmin   userAdmin å…è¨±è©²ä½¿ç”¨è€…å°å…¶ä»–ä½¿ç”¨è€…é€²è¡Œæ¬Šé™ç®¡æ§ï¼Œå¯å°usersé›†ç¾¤å¯«å…¥ å°æŒ‡å®šçš„è³‡æ–™åº«æ–°å¢/åˆªé™¤ä½¿ç”¨è€…   &amp;mdash;å¢é›†(é›†ç¾¤)ç®¡ç†è€…&amp;mdash; &amp;mdash; (é€™è£¡æˆ‘å°±ä¸å¤ªç†Ÿæ‚‰äº†)   clusterAdmin è³¦äºˆæœ€å¤§çš„é›†ç¾¤ç®¡ç†æ¬Šé™ï¼Œä¹Ÿå¯dropDatabase = clusterManager &#43; clusterMonitor &#43; hostManager   clusterManager è³¦äºˆæ¬Šé™å¯å°é›†ç¾¤é€²è¡Œç®¡ç†å’Œç›£è¦–   &amp;mdash;æ‰€æœ‰è³‡æ–™åº«ä½¿ç”¨è€…&amp;mdash; &amp;mdash;   readAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„è®€å–æ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   readWriteAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„è®€å¯«æ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   userAdminAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„userAdminæ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡Œä»¥ä¸‹å¹¾ç¨®æ“ä½œ: authSchemaUpgrade invalidateUserCache listDatabases   dbAdminAnyDatabase è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(localå’Œconfigé™¤å¤–)çš„dbAdminæ¬Šé™ åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡ŒlistDatabasesæ“ä½œ   &amp;mdash;è¶…ç´šä½¿ç”¨è€…&amp;mdash; &amp;mdash;   root è¶…ç´šå¸³è™Ÿï¼Œç„¡æ¬Šé™é™åˆ¶ã€‚å…·é«”å¯ä½¿ç”¨çš„æ“ä½œå¦‚ä¸‹: readWriteAnyDatabasedbAdminAnyDatabaseuserAdminAnyDatabaseclusterAdminrestorebackup    ç¹¼use adminå¾Œï¼Œæ¥è‘—å°±ç›´æ¥å»ºç«‹ä½¿ç”¨è€…ï¼Œèªæ³•æ ¼å¼å¦‚ä¸‹ï¼Œé€™è£¡å¯«ä¸Šå…©å€‹å¸¸ç”¨ç¯„ä¾‹"><meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:image" content='https://i.loli.net/2020/08/13/N563Qzikycmh4Xe.jpg' /></head><body class="">
        <div class="container flex on-phone--column align-items--flex-start extended article-page with-toolbar">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            <figure class="site-avatar">
                

                
                    
                    <img src="/img/cute-eic_hu572a16320c82c049ee51cec8a6f7d9a9_39068_300x300_resize_q75_box.jpg" width="300"
                        height="300" class="site-logo" loading="lazy" alt="Avatar">
                

                <span class="emoji">ğŸŒ </span>
            </figure>
        
        <h1 class="site-name"><a href="https://example.com">EiC</a></h1>
        <h2 class="site-description">ä¸ç˜‹é­”ï¼Œä¸æˆæ´» â€” éœ¸ç‹åˆ¥å§¬</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='https://example.com/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://example.com/about'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://example.com/archives'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
    </ol>
</aside>
            <main class="main full-width">
    <div id="article-toolbar">
        <a href="https://example.com" class="back-home">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



            <span>Back</span>
        </a>
    </div>

    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            
                <img src="https://i.loli.net/2020/08/13/N563Qzikycmh4Xe.jpg" loading="lazy" alt="Featured image of post å¦‚ä½•ç‚ºMongoDBåŠ ä¸Šä½¿ç”¨è€…æ¬Šé™æ§åˆ¶" />
            
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            
                <a href="https://example.com/categories/mongodb/">MongoDB</a>
            
        
    </header>
    

    <h2 class="article-title">
        <a href="https://example.com/p/%E5%A6%82%E4%BD%95%E7%82%BAmongodb%E5%8A%A0%E4%B8%8A%E4%BD%BF%E7%94%A8%E8%80%85%E6%AC%8A%E9%99%90%E6%8E%A7%E5%88%B6/">å¦‚ä½•ç‚ºMongoDBåŠ ä¸Šä½¿ç”¨è€…æ¬Šé™æ§åˆ¶</a>
    </h2>

    <footer class="article-time">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <time class="article-time--published">Jun 03, 2020</time>
    </footer></div>
</header>

    <section class="article-content">
    <h2 id="å‰è¨€">å‰è¨€</h2>
<p>æ™‚éš”åŠå¹´ï¼Œæœ€è¿‘åˆå›ä¾†ç”¨äº†MongoDBï¼Œä¹‹å‰åªæ˜¯è£ä¾†ç©ç©ï¼Œå…¶å¯¦ä¹Ÿæ²’å¹¹å˜›</p>
<p>é€™è£¡å…ˆæ¨è–¦ä¸€ä¸‹<code>MongoDB Compass Community</code>ï¼Œæ­£å¼é‡‹å‡ºäº†ï¼Œç¾åœ¨å·²ç¶“è¶¨æ–¼ç©©å®šï¼Œä½¿ç”¨ä¸ŠåŠŸèƒ½ä¹Ÿå¾ˆé½Šå…¨</p>
<p>æœ€è¿‘å¥½åƒå®‰è£çš„æ™‚å€™å°±æœƒå•ä½ è¦ä¸è¦ä¸€èµ·è£Communityï¼Œæœ‰GUIçš„å·¥å…·å¯ä»¥è¼”åŠ©é–‹ç™¼å¯¦åœ¨æ˜¯å¤ªæ–¹ä¾¿çš„ä¸€ä»¶äº‹</p>
<p>é€™æ¬¡éœ€è¦è®“ä¸»æ©Ÿå°å¤–ï¼Œè®“è³‡æ–™åº«å¯ä»¥è¢«é ç«¯é€£æ¥ï¼Œè¨˜éŒ„ä¸€ä¸‹æ“ä½œæµç¨‹</p>
<h2 id="æ“ä½œæ­¥é©Ÿ">æ“ä½œæ­¥é©Ÿ</h2>
<p>å…ˆé¸æ“‡ä½¿ç”¨adminè³‡æ–™åº«</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ mongo
&gt; use admin
</code></pre></div><p>é€™è£¡æ”¾ä¸Šæˆ‘è‡ªå·±æ•´ç†çš„è¡¨æ ¼ï¼Œå¯ä»¥åƒè€ƒå…¶è¨­å®šä½¿ç”¨è€…æ¬Šé™</p>
<ul>
<li>ä½¿ç”¨è€…(ç”¨æˆ¶)èªªæ˜(åŸºæ–¼MongoDB v4.2 Manual)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">è§’è‰²</th>
<th style="text-align:left">æ¬Šé™èªªæ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>&mdash;è³‡æ–™åº«ä½¿ç”¨è€…&mdash;</em></td>
<td style="text-align:left">&mdash;</td>
</tr>
<tr>
<td style="text-align:left">Read</td>
<td style="text-align:left">å…è¨±è©²ä½¿ç”¨è€…è®€å–æŒ‡å®šè³‡æ–™åº«</td>
</tr>
<tr>
<td style="text-align:left">readWrite</td>
<td style="text-align:left">å…è¨±è©²ä½¿ç”¨è€…è®€å¯«æŒ‡å®šè³‡æ–™åº«</td>
</tr>
<tr>
<td style="text-align:left"><em>&mdash;è³‡æ–™åº«ç®¡ç†è€…&mdash;</em></td>
<td style="text-align:left">&mdash;</td>
</tr>
<tr>
<td style="text-align:left">dbAdmin</td>
<td style="text-align:left">å…è¨±è©²ä½¿ç”¨è€…åœ¨æŒ‡å®šè³‡æ–™åº«ä¸­åŸ·è¡Œç®¡ç†å‡½æ•¸ <!-- raw HTML omitted --> ä¾‹å¦‚ç´¢å¼•ç·¨åˆ¶ã€æ”¶é›†çµ±è¨ˆè³‡è¨Š</td>
</tr>
<tr>
<td style="text-align:left">dbOwner</td>
<td style="text-align:left">è³‡æ–™åº«çš„æ“æœ‰è€…ï¼Œå¯ä»¥å°è³‡æ–™åº«åŸ·è¡Œä»»ä½•ç®¡ç†æ“ä½œ <!-- raw HTML omitted --> = <code>readWrite</code> + <code>dbAdmin</code> + <code>userAdmin</code></td>
</tr>
<tr>
<td style="text-align:left">userAdmin</td>
<td style="text-align:left">å…è¨±è©²ä½¿ç”¨è€…å°å…¶ä»–ä½¿ç”¨è€…é€²è¡Œæ¬Šé™ç®¡æ§ï¼Œå¯å°usersé›†ç¾¤å¯«å…¥ <!-- raw HTML omitted --> å°æŒ‡å®šçš„è³‡æ–™åº«æ–°å¢/åˆªé™¤ä½¿ç”¨è€…</td>
</tr>
<tr>
<td style="text-align:left"><em>&mdash;å¢é›†(é›†ç¾¤)ç®¡ç†è€…&mdash;</em></td>
<td style="text-align:left">&mdash; (é€™è£¡æˆ‘å°±ä¸å¤ªç†Ÿæ‚‰äº†)</td>
</tr>
<tr>
<td style="text-align:left">clusterAdmin</td>
<td style="text-align:left">è³¦äºˆæœ€å¤§çš„é›†ç¾¤ç®¡ç†æ¬Šé™ï¼Œä¹Ÿå¯<code>dropDatabase</code> <!-- raw HTML omitted --> = <code>clusterManager</code> + <code>clusterMonitor</code> + <code>hostManager</code></td>
</tr>
<tr>
<td style="text-align:left">clusterManager</td>
<td style="text-align:left">è³¦äºˆæ¬Šé™å¯å°é›†ç¾¤é€²è¡Œç®¡ç†å’Œç›£è¦–</td>
</tr>
<tr>
<td style="text-align:left"><em>&mdash;æ‰€æœ‰è³‡æ–™åº«ä½¿ç”¨è€…&mdash;</em></td>
<td style="text-align:left">&mdash;</td>
</tr>
<tr>
<td style="text-align:left">readAnyDatabase</td>
<td style="text-align:left">è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(<code>local</code>å’Œ<code>config</code>é™¤å¤–)çš„è®€å–æ¬Šé™ <!-- raw HTML omitted --> åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡Œ<code>listDatabases</code>æ“ä½œ</td>
</tr>
<tr>
<td style="text-align:left">readWriteAnyDatabase</td>
<td style="text-align:left">è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(<code>local</code>å’Œ<code>config</code>é™¤å¤–)çš„è®€å¯«æ¬Šé™ <!-- raw HTML omitted --> åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡Œ<code>listDatabases</code>æ“ä½œ</td>
</tr>
<tr>
<td style="text-align:left">userAdminAnyDatabase</td>
<td style="text-align:left">è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(<code>local</code>å’Œ<code>config</code>é™¤å¤–)çš„<code>userAdmin</code>æ¬Šé™ <!-- raw HTML omitted --> åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡Œä»¥ä¸‹å¹¾ç¨®æ“ä½œ: <!-- raw HTML omitted --><code>authSchemaUpgrade</code> <!-- raw HTML omitted --> <code>invalidateUserCache</code> <!-- raw HTML omitted --> <code>listDatabases</code></td>
</tr>
<tr>
<td style="text-align:left">dbAdminAnyDatabase</td>
<td style="text-align:left">è³¦äºˆä½¿ç”¨è€…æ‰€æœ‰è³‡æ–™åº«(<code>local</code>å’Œ<code>config</code>é™¤å¤–)çš„<code>dbAdmin</code>æ¬Šé™ <!-- raw HTML omitted --> åŒæ™‚ä¹Ÿèƒ½å°æ•´å€‹é›†ç¾¤é€²è¡Œ<code>listDatabases</code>æ“ä½œ</td>
</tr>
<tr>
<td style="text-align:left"><em>&mdash;è¶…ç´šä½¿ç”¨è€…&mdash;</em></td>
<td style="text-align:left">&mdash;</td>
</tr>
<tr>
<td style="text-align:left">root</td>
<td style="text-align:left">è¶…ç´šå¸³è™Ÿï¼Œç„¡æ¬Šé™é™åˆ¶ã€‚å…·é«”å¯ä½¿ç”¨çš„æ“ä½œå¦‚ä¸‹: <!-- raw HTML omitted --> <code>readWriteAnyDatabase</code><!-- raw HTML omitted --><code>dbAdminAnyDatabase</code><!-- raw HTML omitted --><code>userAdminAnyDatabase</code><!-- raw HTML omitted --><code>clusterAdmin</code><!-- raw HTML omitted --><code>restore</code><!-- raw HTML omitted --><code>backup</code></td>
</tr>
</tbody>
</table>
<p>ç¹¼<code>use admin</code>å¾Œï¼Œæ¥è‘—å°±ç›´æ¥å»ºç«‹ä½¿ç”¨è€…ï¼Œèªæ³•æ ¼å¼å¦‚ä¸‹ï¼Œé€™è£¡å¯«ä¸Šå…©å€‹å¸¸ç”¨ç¯„ä¾‹</p>
<pre><code>db.createUser(
  {
    user: &quot;rootUser&quot;,
    pwd: &quot;abcd1234&quot;,
    roles: [ { role: &quot;root&quot;, db: &quot;admin&quot; } ]
  }
)
		// ç”¨æˆ¶rootUserå±¬æ–¼è¶…ç´šä½¿ç”¨è€…æ¬Šé™ï¼Œç®¡ç†è€…ä½¿ç”¨
</code></pre><pre><code>db.createUser(
  {
    user: &quot;Jerry&quot;,
    pwd: &quot;Jerry123321&quot;,
    roles: [ { role: &quot;readWrite&quot;, db: &quot;demo&quot; } ]
  }
)
		// ç”¨æˆ¶Jerryå¯å°è³‡æ–™åº«demoé€²è¡Œè®€å¯«æ“ä½œï¼Œå¯å°æ‡‰ä½¿ç”¨å¹³å°ã€ç³»çµ±ï¼Œåšå‡ºèº«ä»½å€éš”
</code></pre><p>ç›¸é—œæŒ‡ä»¤</p>
<pre><code>db.system.users.find()	//åˆ—å‡ºå·²å­˜åœ¨ä¹‹ä½¿ç”¨è€…
db.dropUser()	//åˆªé™¤ä½¿ç”¨è€…
</code></pre><p>æœ€å¾Œæœ€å¾Œï¼Œè¦å»é…ç½®mongodbçš„config file</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ sudo nano /etc/mongodb.conf
&gt; <span class="nv">auth</span> <span class="o">=</span> <span class="nb">true</span>	//é–‹å•Ÿèº«ä»½é©—è­‰
&gt; <span class="nv">bind_ip</span> <span class="o">=</span> 0.0.0.0	//æ¥å—æ‰€æœ‰é ç«¯é€£ç·šï¼Œæˆ–ç›´æ¥æŒ‡å®šå›ºå®šip
	-Exit <span class="p">&amp;</span> Save-
$ sudo service mongodb restart	//é‡å•Ÿmongodbæœå‹™
</code></pre></div><p>ç•¶ç„¶ä¹Ÿè¨±ä½ é‚„éœ€è¦é–‹å•Ÿlinuxä¸Šçš„ç«¯å£é™åˆ¶</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ sudo iptables -A INPUT -s 0.0.0.0 -p tcp --destination-port <span class="m">27017</span> -m state --state NEW,ESTABLISHED -j ACCEPT
$ sudo iptables -A OUTPUT -d 0.0.0.0 -p tcp --source-port <span class="m">27017</span> -m state --state ESTABLISHED -j ACCEPT
</code></pre></div><p>è€Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯VM compute serviceï¼Œå°±é‚„éœ€è¦è¨­å®šæœå‹™å¹³å°ä¸Šçš„ç«¯å£æ”¾è¡Œ</p>
<p>ä»¥GCPç‚ºä¾‹ï¼Œå¯ä»¥ä½¿ç”¨cloud shellå¿«é€ŸåŠ å…¥VPCç¶²è·¯é˜²ç«ç‰†çš„è¦å‰‡</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ gcloud compute firewall-rules create allow-mongodb --allow tcp:27017
</code></pre></div><p>æœ€å¾Œåˆ°å°æ‡‰çš„VMåŸ·è¡Œå€‹é«”åŠ ä¸Šç¶²è·¯æ¨™è¨˜ï¼Œå°±å¤§åŠŸå‘Šæˆå•¦&hellip;çµ‚æ–¼</p>
<h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</h2>
<p><a class="link" href="https://docs.mongodb.com/manual/reference/built-in-roles"  target="_blank" rel="noopener"
    >https://docs.mongodb.com/manual/reference/built-in-roles</a></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="https://example.com/tags/mongodb/">MongoDB</a>
        
            <a href="https://example.com/tags/database/">database</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>

    
</article>

    <aside class="widget related-contents--wrapper">
    
    
</aside>

    
        
    

    <footer class="site-footer">
    <section class="copyright">&copy; 2020 EiC</section>
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="1.0.5">Stack</a></b> designed by
        <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true" style="display:none">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
            </main>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"
    integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin="anonymous"></script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<link rel="stylesheet" href="/css/highlight/light.min.css" media="(prefers-color-scheme: light)">
<link rel="stylesheet" href="/css/highlight/dark.min.css" media="(prefers-color-scheme: dark)">

    </body>
</html>
